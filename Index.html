<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø§Ø³ØªØºÙØ§Ø± ğŸŒ¿</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Cairo", sans-serif;
      background: linear-gradient(135deg, #b7f3c8, #e2f9e1);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      text-align: center;
      color: #2f4f2f;
      padding: 10px;
    }
    h1 { font-size: 6vw; margin-bottom: 15px; animation: fadeIn 1.5s ease-in-out; }
    input {
      padding: 10px 15px;
      font-size: 4vw;
      border-radius: 25px;
      border: 1px solid #9ac59a;
      outline: none;
      margin-bottom: 15px;
      text-align: center;
      width: 90%;
    }
    .btn {
      --color: #00A97F;
      --color2: rgb(10, 25, 30);
      padding: 0.8em 1.5em;
      background-color: transparent;
      border-radius: 6px;
      border: .3px solid var(--color);
      transition: .5s;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      z-index: 1;
      font-weight: 500;
      font-size: 4vw;
      font-family: 'Cairo', sans-serif;
      text-transform: uppercase;
      color: var(--color);
      margin: 6px;
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
    }
    .btn img { width: 24px; height: 24px; }
    .btn::after, .btn::before {
      content: '';
      display: block;
      height: 100%;
      width: 100%;
      transform: skew(90deg) translate(-50%, -50%);
      position: absolute;
      inset: 50%;
      left: 25%;
      z-index: -1;
      transition: .5s ease-out;
      background-color: var(--color);
    }
    .btn::before { top: -50%; left: -25%; transform: skew(90deg) rotate(180deg) translate(-50%, -50%); }
    .btn:hover::before { transform: skew(45deg) rotate(180deg) translate(-50%, -50%); }
    .btn:hover::after { transform: skew(45deg) translate(-50%, -50%); }
    .btn:hover { color: var(--color2); }
    .btn:active { filter: brightness(.7); transform: scale(.98); }
    .message { font-size: 4vw; margin-top: 20px; display: none; line-height: 1.6; animation: fadeIn 2s ease; }
    .small-text { font-size: 3vw; color: #2f4f2f; opacity: 0.85; }
    .share-buttons { display: none; margin-top: 15px; flex-wrap: wrap; justify-content: center; }
    .counter { margin-top: 10px; font-size: 3vw; color: #2f4f2f; opacity: 0.8; }
    .leaves { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; z-index: -1; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @media only screen and (max-width: 600px) {
      h1 { font-size: 7vw; }
      input { font-size: 4vw; }
      .btn { font-size: 4vw; padding: 0.6em 1em; }
      .message { font-size: 4vw; }
      .small-text { font-size: 3vw; }
    }
  </style>
</head>
<body>
  <h1>ğŸƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØ°ÙƒÙŠØ± Ø¬Ù…ÙŠÙ„ Ø¨Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±</h1>
  <input id="nameInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§" />
  <button class="btn" onclick="showCard()"><img src="https://upload.wikimedia.org/wikipedia/commons/e/e5/Leaf_icon.svg" alt="leaf"/> Ø¹Ø±Ø¶ Ø§Ù„ØªØ°ÙƒÙŠØ±</button>

  <div class="message" id="message"></div>

  <div class="share-buttons" id="share">
    <button class="btn" onclick="shareWhatsApp()"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"/> WhatsApp</button>
    <button class="btn" onclick="shareTelegram()"><img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram"/> Telegram</button>
    <button class="btn" onclick="shareFacebook()"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook"/> Facebook</button>
    <button class="btn" onclick="copyLink()"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/Link_icon.svg" alt="Link"/> Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
    <div class="counter" id="counter"></div>
  </div>

  <canvas class="leaves" id="leaves"></canvas>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const nameFromUrl = urlParams.get("name");
    const message = document.getElementById("message");
    const share = document.getElementById("share");
    const counterDisplay = document.getElementById("counter");

    const phrases = [
      {ar:"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ù…Ù† ÙƒÙ„ Ø®Ø·Ø§ÙŠØ§ÙŠ.", fr:"Je demande pardon Ã  ALLAH pour toutes mes fautes.", en:"I seek ALLAHâ€™s forgiveness for all my mistakes."},
      {ar:"Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†ÙŠ Ù…Ù† Ø¹Ø¨Ø§Ø¯Ùƒ Ø§Ù„ØµØ§Ù„Ø­ÙŠÙ†.", fr:"ALLAH, fais de moi un de Tes serviteurs pieux.", en:"ALLAH, make me one of Your righteous servants."},
      {ar:"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØª.", fr:"Je demande pardon Ã  ALLAH avant la mort.", en:"I seek forgiveness from ALLAH before death."},
      {ar:"Ø§Ù„Ù„Ù‡Ù… Ø§ØºØ³Ù„ Ø°Ù†ÙˆØ¨ÙŠ Ø¨Ø§Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„Ø«Ù„Ø¬ ÙˆØ§Ù„Ø¨Ø±Ø¯.", fr:"ALLAH, lave mes pÃ©chÃ©s avec lâ€™eau, la neige et la glace.", en:"ALLAH, wash away my sins with water, snow, and ice."},
      {ar:"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ù…Ù† ÙƒÙ„ Ù‚ÙˆÙ„ Ø³ÙŠØ¡.", fr:"Je demande pardon Ã  ALLAH pour toute parole mauvaise.", en:"I seek ALLAHâ€™s forgiveness for every bad word."},
      {ar:"Ø§Ù„Ù„Ù‡Ù… Ø§ØºÙØ± Ù„ÙŠ Ø°Ù†ÙˆØ¨ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø© ÙˆØ§Ù„ØµØºÙŠØ±Ø©.", fr:"ALLAH, pardonne mes grands et petits pÃ©chÃ©s.", en:"ALLAH, forgive my major and minor sins."},
      {ar:"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯.", fr:"Je demande pardon Ã  ALLAH dans les Ã©preuves.", en:"I seek forgiveness from ALLAH in hardships."},
      {ar:"Ø±Ø¨ Ø§ØºÙØ± Ù„ÙŠ ØªÙ‚ØµÙŠØ±ÙŠ.", fr:"ALLAH, pardonne mon insuffisance.", en:"ALLAH, forgive my shortcomings."},
      {ar:"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ØµØ¨Ø§Ø­Ù‹Ø§ ÙˆÙ…Ø³Ø§Ø¡Ù‹.", fr:"Je demande pardon Ã  ALLAH matin et soir.", en:"I seek ALLAHâ€™s forgiveness morning and evening."},
      {ar:"Ø§Ù„Ù„Ù‡Ù… Ø§Ø±Ø­Ù…Ù†ÙŠ ÙˆØ§ØºÙØ± Ù„ÙŠ Ø°Ù†ÙˆØ¨ÙŠ.", fr:"ALLAH, aie pitiÃ© de moi et pardonne mes pÃ©chÃ©s.", en:"ALLAH, have mercy on me and forgive my sins."}
    ];

    function showCard() {
      const name = document.getElementById("nameInput").value.trim();
      if (name) window.location.href = `${window.location.pathname}?name=${encodeURIComponent(name)}`;
    }

    function showMessage(name) {
      const randomPhrase = phrases[Math.floor(Math.random()*phrases.length)];
      message.style.display = "block";
      message.innerHTML = `
        <strong>${name}</strong> ÙŠØ°ÙƒÙ‘Ø±Ùƒ Ø¨Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±:<br>
        <span class="small-text">Te rappelle de faire Istighfar<br>Te rappelle de faire Istighfar </span><br>
        ${randomPhrase.ar}<br>
        <span class="small-text">${randomPhrase.fr}</span><br>
        <span class="small-text">${randomPhrase.en}</span><br><br>
        ğŸ’š Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ø¹Ø§Ø¯Ø© ØªÙØ­ÙŠÙŠ Ø¨Ù‡Ø§ Ù‚Ù„Ø¨Ùƒ ğŸ’š<br>
        <span class="small-text">ğŸ’š Faites-en une habitude ğŸ’š<br>ğŸ’š Make it a habit ğŸ’š</span>
      `;
      share.style.display = "flex";
      startLeaves();
      updateCounter();
    }

    if (nameFromUrl) {
      document.querySelector("h1").style.display = "none";
      document.querySelector("input").style.display = "block";
      document.querySelector(".btn").style.display = "block";
      showMessage(nameFromUrl);
    }

    function startLeaves() {
      const canvas = document.getElementById("leaves");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const leaves = Array.from({ length: 40 }, () => ({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height - canvas.height,
        size: Math.random()*25 + 10,
        speed: Math.random()*2 + 1,
        color: `hsl(${Math.random()*60+90},50%,50%)`
      }));

      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        for(const leaf of leaves){
          ctx.beginPath();
          ctx.ellipse(leaf.x, leaf.y, leaf.size/2, leaf.size/3, Math.random(), 0, 2*Math.PI);
          ctx.fillStyle = leaf.color;
          ctx.fill();
          leaf.y += leaf.speed;
          if(leaf.y>canvas.height) leaf.y=-10;
        }
        requestAnimationFrame(draw);
      }
      draw();
    }

    const mainURL = window.location.origin + window.location.pathname;

    function shareWhatsApp(){ incrementCounter(); window.open(`https://wa.me/?text=ğŸŒ¿ ${mainURL}`, "_blank"); }
    function shareTelegram(){ incrementCounter(); window.open(`https://t.me/share/url?url=${mainURL}`, "_blank"); }
    function shareFacebook(){ incrementCounter(); window.open(`https://www.facebook.com/sharer/sharer.php?u=${mainURL}`, "_blank"); }
    function copyLink(){ navigator.clipboard.writeText(mainURL); incrementCounter(); alert("âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­!"); }

    function updateCounter(){ const count = localStorage.getItem("shareCount")||0; counterDisplay.innerText=`ğŸ” Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙØ­Ø©: ${count}`; }
    function incrementCounter(){ let count=parseInt(localStorage.getItem("shareCount")||"0"); count++; localStorage.setItem("shareCount",count); updateCounter(); }
  </script>
</body>
</html>


